# å®Œæ•´é¡¹ç›®è¿ç§»æŒ‡å—
## ä»å½“å‰ bolt.new è´¦æˆ·è¿ç§»åˆ°æ–°è´¦æˆ·

---

## ğŸ“‹ è¿ç§»å‰å‡†å¤‡æ¸…å•

### å½“å‰é¡¹ç›®çŠ¶æ€
- âœ… 2 ä¸ªæ³¨å†Œç”¨æˆ·
- âœ… 2 ä¸ªè®¢é˜…è®°å½•ï¼ˆ1 ä¸ªå…è´¹ç‰ˆï¼Œ1 ä¸ªé«˜çº§ç‰ˆï¼‰
- âœ… 1 ä¸ªå·²æ‰¹å‡†çš„æ”¯ä»˜è¯·æ±‚
- âœ… 9 å¼ æ•°æ®è¡¨
- âœ… 5 ä¸ªæ•°æ®åº“è¿ç§»æ–‡ä»¶
- âœ… 2 ä¸ª Edge Functions

### éœ€è¦å‡†å¤‡çš„è´¦æˆ·
1. **GitHub è´¦æˆ·**ï¼ˆç”¨äºä»£ç è¿ç§»ï¼‰
2. **æ–°çš„ bolt.new è´¦æˆ·**
3. **æ–°çš„ Supabase è´¦æˆ·**ï¼ˆæˆ–åœ¨æ–° bolt.new ä¸­åˆ›å»ºï¼‰

---

## ğŸš€ ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡ GitHub ä»“åº“

### 1. åˆå§‹åŒ– Git ä»“åº“å¹¶æ¨é€åˆ° GitHub

```bash
# åˆå§‹åŒ– Git ä»“åº“
git init

# æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# åˆ›å»ºåˆå§‹æäº¤
git commit -m "Initial commit - Visa Management System"

# æ·»åŠ  GitHub è¿œç¨‹ä»“åº“
# è¯·å…ˆåœ¨ GitHub ä¸Šåˆ›å»ºä¸€ä¸ªæ–°ä»“åº“ï¼Œç„¶åè¿è¡Œï¼š
git remote add origin https://github.com/YOUR_USERNAME/YOUR_REPO_NAME.git

# æ¨é€åˆ° GitHub
git push -u origin main
```

### 2. éªŒè¯æ¨é€æˆåŠŸ
- è®¿é—® GitHub ä»“åº“
- ç¡®è®¤æ‰€æœ‰æ–‡ä»¶éƒ½å·²ä¸Šä¼ 
- æ£€æŸ¥ä»¥ä¸‹é‡è¦æ–‡ä»¶ï¼š
  - âœ… `supabase/migrations/` - æ•°æ®åº“è¿ç§»æ–‡ä»¶
  - âœ… `supabase/functions/` - Edge Functions
  - âœ… `src/` - å‰ç«¯ä»£ç 
  - âœ… `package.json` - ä¾èµ–é…ç½®
  - âŒ `.env` - æ­¤æ–‡ä»¶ä¸ä¼šä¸Šä¼ ï¼ˆéœ€è¦åœ¨æ–°è´¦æˆ·é‡æ–°é…ç½®ï¼‰

---

## ğŸ“Š ç¬¬äºŒæ­¥ï¼šå¯¼å‡º Supabase æ•°æ®

### å½“å‰æ•°æ®åº“æ¦‚è§ˆ

#### ç”¨æˆ·æ•°æ® (2 users)
- magneto.zhao@gmail.com (ç®¡ç†å‘˜è´¦æˆ·)
- 656381090@qq.com (é«˜çº§ä¼šå‘˜)

#### è®¢é˜…æ•°æ® (2 subscriptions)
- å…è´¹ç‰ˆè®¢é˜…ï¼š1 ä¸ª
- é«˜çº§ç‰ˆè®¢é˜…ï¼š1 ä¸ªï¼ˆå¹´è´¹ $49ï¼Œå·²æ”¯ä»˜ï¼‰

#### æ•°æ®è¡¨ç»“æ„
1. **profiles** - ç”¨æˆ·èµ„æ–™
2. **visas** - ç­¾è¯è®°å½•
3. **reminders** - æé†’è®¾ç½®
4. **visa_types** - ç­¾è¯ç±»å‹ç™¾ç§‘
5. **service_providers** - æœåŠ¡æä¾›å•†
6. **service_requests** - æœåŠ¡è¯·æ±‚
7. **subscriptions** - è®¢é˜…ç®¡ç†
8. **subscription_features** - è®¢é˜…åŠŸèƒ½é…ç½®
9. **payment_requests** - æ”¯ä»˜è¯·æ±‚

### æ•°æ®å¯¼å‡ºæ–¹å¼

#### é€‰é¡¹ Aï¼šä¿ç•™æ‰€æœ‰ç”¨æˆ·æ•°æ®ï¼ˆæ¨èç”¨äºç”Ÿäº§ç¯å¢ƒï¼‰

```sql
-- å¯¼å‡ºç”¨æˆ·è®¤è¯ä¿¡æ¯ï¼ˆéœ€è¦ Supabase Dashboard æ“ä½œï¼‰
-- åœ¨ Supabase Dashboard â†’ Authentication â†’ Users ä¸­å¯¼å‡º

-- å¯¼å‡ºè®¢é˜…æ•°æ®
COPY (SELECT * FROM subscriptions) TO STDOUT WITH CSV HEADER;

-- å¯¼å‡ºæ”¯ä»˜è¯·æ±‚
COPY (SELECT * FROM payment_requests) TO STDOUT WITH CSV HEADER;

-- å¯¼å‡ºç­¾è¯æ•°æ®
COPY (SELECT * FROM visas) TO STDOUT WITH CSV HEADER;

-- å¯¼å‡ºç”¨æˆ·èµ„æ–™
COPY (SELECT * FROM profiles) TO STDOUT WITH CSV HEADER;
```

#### é€‰é¡¹ Bï¼šå…¨æ–°å¼€å§‹ï¼ˆæ¨èç”¨äºæµ‹è¯•/å¼€å‘ï¼‰
- ä¸å¯¼å‡ºç”¨æˆ·æ•°æ®
- åªè¿ç§»ä»£ç å’Œæ•°æ®åº“ç»“æ„
- ç”±è¿ç§»è„šæœ¬è‡ªåŠ¨åˆ›å»ºè¡¨ç»“æ„

---

## ğŸ”„ ç¬¬ä¸‰æ­¥ï¼šåœ¨æ–° bolt.new è´¦æˆ·ä¸­è®¾ç½®é¡¹ç›®

### 1. å¯¼å…¥é¡¹ç›®

#### æ–¹æ³• Aï¼šä» GitHub å¯¼å…¥ï¼ˆæ¨èï¼‰
1. ç™»å½•æ–°çš„ **bolt.new** è´¦æˆ·
2. ç‚¹å‡» **"Import from GitHub"**
3. æˆæƒè®¿é—®æ‚¨çš„ GitHub è´¦æˆ·
4. é€‰æ‹©åˆšæ‰æ¨é€çš„ä»“åº“
5. bolt.new ä¼šè‡ªåŠ¨ï¼š
   - å…‹éš†ä»£ç 
   - å®‰è£…ä¾èµ–
   - åˆ›å»º Supabase é¡¹ç›®
   - è®¾ç½®ç¯å¢ƒå˜é‡

#### æ–¹æ³• Bï¼šæ‰‹åŠ¨ä¸Šä¼ ï¼ˆå¤‡ç”¨æ–¹æ¡ˆï¼‰
1. ä»åŸè´¦æˆ·ä¸‹è½½é¡¹ç›® ZIP
2. åœ¨æ–°è´¦æˆ·åˆ›å»ºæ–°é¡¹ç›®
3. ä¸Šä¼ æ‰€æœ‰æ–‡ä»¶

### 2. é…ç½® Supabase

æ–°çš„ bolt.new é¡¹ç›®ä¼šè‡ªåŠ¨åˆ›å»º Supabase å®ä¾‹ï¼Œä½†æ‚¨éœ€è¦ï¼š

1. **è¿è¡Œæ•°æ®åº“è¿ç§»**
   - bolt.new ä¼šè‡ªåŠ¨æ£€æµ‹ `supabase/migrations/` æ–‡ä»¶å¤¹
   - æ‰€æœ‰è¿ç§»ä¼šæŒ‰é¡ºåºè‡ªåŠ¨æ‰§è¡Œï¼š
     - âœ… åˆ›å»ºæ‰€æœ‰è¡¨ç»“æ„
     - âœ… è®¾ç½® Row Level Security (RLS)
     - âœ… åˆ›å»ºå­˜å‚¨æ¡¶ï¼ˆStorage Bucketsï¼‰
     - âœ… é…ç½®è®¿é—®ç­–ç•¥

2. **éªŒè¯è¿ç§»æˆåŠŸ**
   ```sql
   -- æ£€æŸ¥æ‰€æœ‰è¡¨æ˜¯å¦åˆ›å»º
   SELECT table_name FROM information_schema.tables
   WHERE table_schema = 'public';

   -- åº”è¯¥çœ‹åˆ° 9 ä¸ªè¡¨ï¼š
   -- profiles, visas, reminders, visa_types,
   -- service_providers, service_requests,
   -- subscriptions, subscription_features, payment_requests
   ```

3. **éƒ¨ç½² Edge Functions**
   - bolt.new ä¼šè‡ªåŠ¨éƒ¨ç½² `supabase/functions/` ä¸­çš„å‡½æ•°ï¼š
     - âœ… `extract-visa-info` - OCR ç­¾è¯ä¿¡æ¯æå–
     - âœ… `send-reminders` - å‘é€åˆ°æœŸæé†’

### 3. æ›´æ–°ç¯å¢ƒå˜é‡

æ–°é¡¹ç›®çš„ `.env` æ–‡ä»¶ä¼šè‡ªåŠ¨ç”Ÿæˆï¼ŒåŒ…å«ï¼š
```env
VITE_SUPABASE_URL=https://your-new-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-new-anon-key
```

**æ— éœ€æ‰‹åŠ¨é…ç½®ï¼**

---

## ğŸ“¥ ç¬¬å››æ­¥ï¼šå¯¼å…¥ç”¨æˆ·æ•°æ®ï¼ˆå¯é€‰ï¼‰

### å¦‚æœé€‰æ‹©ä¿ç•™ç”¨æˆ·æ•°æ®ï¼š

#### 1. å¯¼å…¥ç”¨æˆ·è®¤è¯ä¿¡æ¯
åœ¨æ–° Supabase Dashboard:
1. è¿›å…¥ **Authentication** â†’ **Users**
2. ç‚¹å‡» **"Import Users"**
3. ä¸Šä¼ ä»åŸé¡¹ç›®å¯¼å‡ºçš„ç”¨æˆ· CSV

#### 2. å¯¼å…¥ä¸šåŠ¡æ•°æ®

```sql
-- å¯¼å…¥è®¢é˜…æ•°æ®
INSERT INTO subscriptions (id, user_id, plan_type, status, start_date, end_date, payment_method, created_at, updated_at)
VALUES
  ('d364e1a7-be9c-4286-847d-a5c2ed099bf4', '391940f8-7613-4226-9638-59d63ba0ac58', 'free', 'active', '2025-11-09 05:43:55.913764+00', NULL, NULL, '2025-11-09 05:43:55.913764+00', '2025-11-09 05:43:55.913764+00'),
  ('23b72de0-cbcc-4717-ad7f-c67e32748695', '3c571cc1-a2b2-441f-ba78-7e591b762510', 'premium', 'active', '2025-12-15 16:29:45.175888+00', '2026-12-15 16:29:45.175888+00', 'aba_pay', '2025-12-15 16:29:45.175888+00', '2025-12-15 16:29:45.175888+00');

-- å¯¼å…¥æ”¯ä»˜è¯·æ±‚
INSERT INTO payment_requests (id, user_id, email, full_name, plan_type, amount, status, payment_proof, approved_by, approved_at, created_at, updated_at)
VALUES
  ('15b58c2c-d751-4cd0-823e-33d8aef30524', '3c571cc1-a2b2-441f-ba78-7e591b762510', '656381090@qq.com', 'èµµç”Ÿä¼Ÿ', 'yearly', 49.00, 'approved', 'ABA Pay - $49', '3c571cc1-a2b2-441f-ba78-7e591b762510', '2025-12-15 16:29:45.175888+00', '2025-12-15 16:14:26.617252+00', '2025-12-15 16:29:45.175888+00');
```

#### 3. å¯¼å…¥ç­¾è¯å›¾ç‰‡æ–‡ä»¶
åœ¨ Supabase Storage:
1. è¿›å…¥ **Storage** â†’ **visa-documents**
2. æ‰‹åŠ¨ä¸Šä¼ åŸé¡¹ç›®ä¸­çš„æ‰€æœ‰ç­¾è¯å›¾ç‰‡
3. æˆ–ä½¿ç”¨ Supabase CLI æ‰¹é‡è¿ç§»

---

## âœ… ç¬¬äº”æ­¥ï¼šéªŒè¯è¿ç§»

### 1. åŠŸèƒ½æµ‹è¯•æ¸…å•

- [ ] **è®¤è¯åŠŸèƒ½**
  - [ ] ç”¨æˆ·æ³¨å†Œ
  - [ ] ç”¨æˆ·ç™»å½•
  - [ ] å¯†ç é‡ç½®
  - [ ] é€€å‡ºç™»å½•

- [ ] **ç­¾è¯ç®¡ç†**
  - [ ] æ·»åŠ ç­¾è¯
  - [ ] æŸ¥çœ‹ç­¾è¯åˆ—è¡¨
  - [ ] ç¼–è¾‘ç­¾è¯
  - [ ] åˆ é™¤ç­¾è¯
  - [ ] ä¸Šä¼ ç­¾è¯ç…§ç‰‡
  - [ ] OCR è¯†åˆ«ï¼ˆEdge Functionï¼‰

- [ ] **è®¢é˜…ç³»ç»Ÿ**
  - [ ] æŸ¥çœ‹è®¢é˜…çŠ¶æ€
  - [ ] æäº¤æ”¯ä»˜è¯·æ±‚
  - [ ] ç®¡ç†å‘˜å®¡æ‰¹æ”¯ä»˜
  - [ ] å‡çº§åˆ°é«˜çº§ç‰ˆ

- [ ] **æé†’åŠŸèƒ½**
  - [ ] è®¾ç½®æé†’
  - [ ] æ¥æ”¶æé†’é€šçŸ¥ï¼ˆEdge Functionï¼‰

- [ ] **å¤šè¯­è¨€**
  - [ ] åˆ‡æ¢ä¸­æ–‡/è‹±æ–‡/é«˜æ£‰è¯­

- [ ] **ç®¡ç†å‘˜åŠŸèƒ½**
  - [ ] è®¿é—®ç®¡ç†é¢æ¿
  - [ ] å®¡æ‰¹æ”¯ä»˜è¯·æ±‚
  - [ ] ç®¡ç†ç”¨æˆ·

### 2. æ•°æ®å®Œæ•´æ€§æ£€æŸ¥

```sql
-- æ£€æŸ¥ç”¨æˆ·æ•°é‡
SELECT COUNT(*) FROM auth.users;

-- æ£€æŸ¥è®¢é˜…æ•°é‡
SELECT COUNT(*), plan_type, status FROM subscriptions
GROUP BY plan_type, status;

-- æ£€æŸ¥æ”¯ä»˜è¯·æ±‚
SELECT COUNT(*), status FROM payment_requests
GROUP BY status;

-- æ£€æŸ¥ç­¾è¯æ•°é‡
SELECT COUNT(*) FROM visas;

-- æ£€æŸ¥ RLS ç­–ç•¥
SELECT schemaname, tablename, policyname
FROM pg_policies
WHERE schemaname = 'public';
```

### 3. æ€§èƒ½æµ‹è¯•
- [ ] é¡µé¢åŠ è½½é€Ÿåº¦
- [ ] API å“åº”æ—¶é—´
- [ ] å›¾ç‰‡ä¸Šä¼ é€Ÿåº¦
- [ ] OCR å¤„ç†æ—¶é—´

---

## ğŸ” å®‰å…¨æ£€æŸ¥æ¸…å•

- [ ] **ç¯å¢ƒå˜é‡**
  - [ ] `.env` æ–‡ä»¶å·²æ­£ç¡®é…ç½®
  - [ ] API å¯†é’¥æœªæ³„éœ²åˆ° Git

- [ ] **æ•°æ®åº“å®‰å…¨**
  - [ ] æ‰€æœ‰è¡¨å·²å¯ç”¨ RLS
  - [ ] ç­–ç•¥æ­£ç¡®é™åˆ¶è®¿é—®
  - [ ] æµ‹è¯•æœªæˆæƒè®¿é—®è¢«é˜»æ­¢

- [ ] **å­˜å‚¨å®‰å…¨**
  - [ ] Storage policies æ­£ç¡®é…ç½®
  - [ ] ç”¨æˆ·åªèƒ½è®¿é—®è‡ªå·±çš„æ–‡ä»¶

- [ ] **Edge Functions**
  - [ ] å‡½æ•°å·²æ­£ç¡®éƒ¨ç½²
  - [ ] CORS é…ç½®æ­£ç¡®
  - [ ] é”™è¯¯å¤„ç†å®Œå–„

---

## ğŸ¯ è¿ç§»åæ¸…ç†

### åœ¨åŸè´¦æˆ·ï¼ˆå¯é€‰ï¼‰
- ä¿ç•™åŸé¡¹ç›®ä½œä¸ºå¤‡ä»½ 7-30 å¤©
- ç¡®è®¤æ–°é¡¹ç›®ç¨³å®šåå†åˆ é™¤
- å¯¼å‡ºæœ€ç»ˆæ•°æ®å¤‡ä»½

### åœ¨æ–°è´¦æˆ·
- è®¾ç½®è‡ªåŠ¨å¤‡ä»½
- é…ç½®åŸŸåï¼ˆå¦‚éœ€è¦ï¼‰
- è®¾ç½®ç›‘æ§å’Œå‘Šè­¦

---

## ğŸ“ é‡åˆ°é—®é¢˜ï¼Ÿ

### å¸¸è§é—®é¢˜

**Q: è¿ç§»åç”¨æˆ·éœ€è¦é‡æ–°æ³¨å†Œå—ï¼Ÿ**
A: å¦‚æœå¯¼å…¥äº†ç”¨æˆ·è®¤è¯æ•°æ®ï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥ç™»å½•ã€‚å¦åˆ™éœ€è¦é‡æ–°æ³¨å†Œã€‚

**Q: è®¢é˜…ä¿¡æ¯ä¼šä¸¢å¤±å—ï¼Ÿ**
A: å¦‚æœæ‰§è¡Œäº†æ•°æ®å¯¼å…¥æ­¥éª¤ï¼Œè®¢é˜…ä¿¡æ¯ä¼šå®Œæ•´ä¿ç•™ã€‚

**Q: Edge Functions éœ€è¦é‡æ–°éƒ¨ç½²å—ï¼Ÿ**
A: bolt.new ä¼šè‡ªåŠ¨éƒ¨ç½² `supabase/functions/` ä¸­çš„å‡½æ•°ã€‚

**Q: Storage ä¸­çš„æ–‡ä»¶æ€ä¹ˆè¿ç§»ï¼Ÿ**
A: éœ€è¦æ‰‹åŠ¨ä¸‹è½½åé‡æ–°ä¸Šä¼ ï¼Œæˆ–ä½¿ç”¨ Supabase CLI æ‰¹é‡è¿ç§»ã€‚

**Q: æ•°æ®åº“è¿ç§»å¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
A: æ£€æŸ¥è¿ç§»æ–‡ä»¶é¡ºåºï¼Œç¡®ä¿ä¾èµ–å…³ç³»æ­£ç¡®ã€‚å¯ä»¥æ‰‹åŠ¨åœ¨ SQL Editor ä¸­æ‰§è¡Œã€‚

---

## ğŸ‰ è¿ç§»å®Œæˆï¼

å®Œæˆæ‰€æœ‰æ­¥éª¤åï¼Œæ‚¨çš„ç­¾è¯ç®¡ç†ç³»ç»Ÿå·²æˆåŠŸè¿ç§»åˆ°æ–°è´¦æˆ·ã€‚

**ä¸‹ä¸€æ­¥å»ºè®®ï¼š**
1. é€šçŸ¥ç”¨æˆ·ï¼ˆå¦‚æœæœ‰å˜åŒ–ï¼‰
2. æ›´æ–°æ–‡æ¡£å’Œé“¾æ¥
3. è®¾ç½®å®šæœŸå¤‡ä»½
4. ç›‘æ§ç³»ç»Ÿè¿è¡ŒçŠ¶æ€

---

## ğŸ“ å¿«é€Ÿå‘½ä»¤å‚è€ƒ

### Git å‘½ä»¤
```bash
# åˆå§‹åŒ–å¹¶æ¨é€
git init
git add .
git commit -m "Initial commit"
git remote add origin https://github.com/USERNAME/REPO.git
git push -u origin main
```

### Supabase æ•°æ®éªŒè¯
```sql
-- å¿«é€Ÿæ£€æŸ¥æ‰€æœ‰è¡¨
SELECT
  schemaname,
  tablename,
  pg_size_pretty(pg_total_relation_size(schemaname||'.'||tablename)) AS size
FROM pg_tables
WHERE schemaname = 'public'
ORDER BY tablename;
```

---

**è¿ç§»æŒ‡å—ç‰ˆæœ¬**: 1.0
**æœ€åæ›´æ–°**: 2026-02-15
**é¡¹ç›®**: ç­¾è¯ç®¡ç†ç³»ç»Ÿ (Visa Management System)
